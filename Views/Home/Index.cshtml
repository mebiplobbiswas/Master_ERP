
@{
    ViewBag.Title = "Home2";
    //Layout = "~/Views/Shared/_Layout2_argon.cshtml";


    if(ViewBag.monthwiseSales != null)
    {
        var data = ViewBag.monthwiseSales as List<MASERP.Models.DATAMODEL.Buyer>;
    }


    var stocksData = ViewData["Stocks"] as List<MASERP.Models.DATAMODEL.Buyer>;
    var customers = ViewData["CustomerSalesStat"] as List<MASERP.Models.DATAMODEL.Buyer>;
    var i = 1; 
    var j =1 ;
}


<div class="header bg-primary-grey pb-6">
    <div class="container-fluid">
        <div class="header-body">
          <br/>
            <!-- Card stats -->
            <div class="row">

                <div class="col-xl-3 col-md-6">
                    <div class="card card-stats">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Production Today</h5>
                                    <span class="h2 font-weight-bold mb-0">৳ @ViewBag.totalProductionToday</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-gradient-orange text-white rounded-circle shadow">
                                        <i class="ni ni-chart-pie-35"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-success mr-2"><i class="fa fa-arrow-up"></i></span>
                                <span class="text-nowrap"><b>৳@ViewBag.totalProduction.ToString("G29")</b> Since last month</span>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="card card-stats">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Product Sales Today</h5>
                                    <span class="h2 font-weight-bold mb-0">৳ @ViewBag.totalSaleToday</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-gradient-green text-white rounded-circle shadow">
                                        <i class="ni ni-money-coins"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-success mr-2"><i class="fa fa-arrow-up"></i>  </span>
                                <span class="text-nowrap"><b>৳@ViewBag.totalSale.ToString("G29")</b> Since last month</span>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="card card-stats">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Total Category</h5>
                                    <span class="h2 font-weight-bold mb-0">@ViewBag.milkCollectionToday </span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-gradient-info text-white rounded-circle shadow">
                                        <i class="ni ni-chart-bar-32"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-success mr-2"><i class="fa fa-arrow-up"></i>  </span>
                                <span class="text-nowrap"><b>@ViewBag.milkCollection.ToString("G29")</b> Litre Last 30 Days</span>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="card card-stats">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Customer Dues Today</h5>
                                    <span class="h2 font-weight-bold mb-0">৳ @ViewBag.totalDueToday</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-gradient-orange text-white rounded-circle shadow">
                                        <i class="ni ni-single-02"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <span class="text-success mr-2"><i class="fa fa-arrow-up"></i></span>
                                <span class="text-nowrap"><b>৳@ViewBag.totalDue.ToString("G29")</b> Since Begining</span>
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<!-- Page content -->
<div class="container-fluid mt--6">
    <div class="row">
        <div class="col-xl-8">
            <div class="card">
                <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                        <div class="col">
                            <h6 class="text-muted text-uppercase ls-1 mb-1">Overview</h6>
                            <h5 class="h3  mb-0">Monthwise Sales</h5>
                        </div>
                        <div class="col">
                             
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <!-- Chart -->
                    <div class="chart">
                        <!-- Chart wrapper -->
                        <canvas id="chart-sales-light" class="chart-canvas"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-4">
            <div class="card">
                <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                        <div class="col">
                            <h6 class="text-uppercase text-muted ls-1 mb-1">Last 30 Days</h6>
                            <h5 class="h3 mb-0">Production</h5>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <!-- Chart -->
                    <div class="chart">
                        <canvas id="cow-chart3" class="chart-canvas"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xl-8">
            <div class="card">
                <div class="card-header border-0">
                    <div class="row align-items-center">
                        <div class="col">
                            <h3 class="mb-0">Top Customers</h3>
                        </div>
                        <div class="col text-right">
                           
                        </div>
                    </div>
                </div>
                <div class="table table-responsive -responsive">
                    <!-- Projects table -->
                    <table class="table table-responsive  align-items-center table-flush">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">SL</th>
                                <th scope="col">Name</th>
                                <th scope="col">Total</th>
                                <th scope="col">Paid</th>
                                <th scope="col">Due</th>
                            </tr>
                        </thead>
                        <tbody>

                            @if (customers != null)
                            {
                                foreach (var item in customers)
                                {
                                    <tr>
                                        <th>@i</th>
                                        <th scope="row">
                                            @item.BuyerName
                                        </th>
                                        <td>
                                            @item.BuyerName
                                        </td>
                                        <td>
                                            @item.BuyerName
                                        </td>
                                        <td>
                                            <b> @item.BuyerName</b>
                                        </td>
                                    </tr>
                                    i++;
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-xl-4">
            <div class="card">
                <div class="card-header border-0">
                    <div class="row align-items-center">
                        <div class="col">
                            <h3 class="mb-0">Top Product Stocks</h3>
                        </div>
                      
                    </div>
                </div>
                <div class="table table-responsive -responsive">
                    <!-- Projects table -->
                    <table class="table table-responsive  align-items-center table-flush">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">SL</th>
                                <th scope="col">Product Name</th>
                                @*<th scope="col">In</th>
                                <th scope="col">Out</th>*@
                                <th scope="col">Stock</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (stocksData != null)
                            {
                                foreach (var item in stocksData.Where(s=>s.BuyerId > 0 ).Take(6))
                                {
                                    <tr>
                                        <th scope="row">
                                            @j
                                        </th>
                                        <td>
                                            @item.BuyerName 
                                        </td>                                       
                                        <td><b>@item.BuyerId.ToString("G29")</b></td>
                                    </tr>
                                    j++;
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer -->
</div>


